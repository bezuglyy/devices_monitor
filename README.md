# üè† Devices Monitor ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è Home Assistant

## üîß –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
`devices_monitor` ‚Äî —ç—Ç–æ –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è Home Assistant, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–≤–º–µ—â–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **Switches Monitor** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–µ–π –∏ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤
- **Sensors Monitor** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ –∏ —Å–µ–Ω—Å–æ—Ä–æ–≤ —Å –ø–æ—Ä–æ–≥–∞–º–∏

–¢–µ–ø–µ—Ä—å –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ —Å –µ–¥–∏–Ω—ã–º –º–∞—Å—Ç–µ—Ä–æ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –≥–∏–±–∫–∏–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏.

---

## ‚öôÔ∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
1. **–í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞**
   - `switches` ‚Äî —Ç–æ–ª—å–∫–æ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏
   - `sensors` ‚Äî —Ç–æ–ª—å–∫–æ –¥–∞—Ç—á–∏–∫–∏
   - `both` ‚Äî –≤—Å—ë –≤–º–µ—Å—Ç–µ

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–µ–π**
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ (ON) –∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ (OFF)
   - –û—Ç—á—ë—Ç –æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∞—Ç—á–∏–∫–æ–≤**
   - Binary sensors (`binary_sensor`) ‚Äî —Ç—Ä–µ–≤–æ–≥–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç –≤ –Ω–æ—Ä–º—É
   - Sensors —Å –ø–æ—Ä–æ–≥–∞–º–∏ (`sensor`) ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –≤—ã—à–µ/–Ω–∏–∂–µ + —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞:
     ```yaml
     sensor.temperature_bedroom; above=28; message=üî• –ñ–∞—Ä–∫–æ –≤ —Å–ø–∞–ª—å–Ω–µ: {value}¬∞C
     sensor.humidity_bathroom; above=80; message=üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –≤–∞–Ω–Ω–æ–π: {value}%
     ```

4. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
   - –†–∞–∑–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –≤—ã–∫–ª—é—á–∞—Ç–µ–ª–µ–π –∏ –¥–∞—Ç—á–∏–∫–æ–≤
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤: Telegram, Email, Mobile App
   - –ì–æ–ª–æ—Å–æ–≤–∞—è –æ–∑–≤—É—á–∫–∞ —á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å.–°—Ç–∞–Ω—Ü–∏–∏ (`media_player`)

5. **–û—Ç—á—ë—Ç—ã**
   - –ü–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç)
   - –ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ 09:00 –∏ 21:00)
   - –°–µ—Ä–≤–∏—Å `devices_monitor.send_report` ‚Äî –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –°–∫–æ–ø–∏—Ä—É–π –ø–∞–ø–∫—É `custom_components/devices_monitor/` –≤ `/config/custom_components/`.
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Home Assistant.
3. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–æ–±–∞–≤—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é ‚Üí **Devices Monitor**.
4. –í –º–∞—Å—Ç–µ—Ä–µ –≤—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º (–≤—ã–∫–ª—é—á–∞—Ç–µ–ª–∏, –¥–∞—Ç—á–∏–∫–∏ –∏–ª–∏ –æ–±–∞) –∏ –Ω–∞—Å—Ç—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

---

## üìÑ –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```yaml
mode: both

switches_list:
  - switch.vannaya
  - light.spalnya
switches_notify_on: notify.dom
switches_notify_off: notify.mobile_dom
switches_notify_report: notify.dom

sensors_binary:
  - binary_sensor.motion_hall
sensors_thresholds: |
  sensor.temperature_bedroom; above=28; message=üî• –ñ–∞—Ä–∫–æ {value}¬∞C
  sensor.humidity_bathroom; above=80; message=üíß –í–ª–∞–∂–Ω–æ—Å—Ç—å {value}%
sensors_notify_on: notify.dom
sensors_notify_off: notify.mobile_dom
sensors_notify_alerts: |
  notify.dom
  notify.email_dom
sensors_notify_tts: |
  media_player.yandex_station_spalnya

interval: 15
report_schedule: |
  09:00
  21:00
```

---

## üîî –ü—Ä–∏–º–µ—Ä—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- üö® –í–∫–ª—é—á—ë–Ω: –°–≤–µ—Ç –≤ –≤–∞–Ω–Ω–æ–π  
- ‚úÖ –í—ã–∫–ª—é—á–µ–Ω: –°–≤–µ—Ç –≤ –≥–æ—Å—Ç–∏–Ω–æ–π (—Ä–∞–±–æ—Ç–∞–ª 0—á 12–º 5—Å)  
- ‚ö†Ô∏è –ü–æ—Ä–æ–≥: sensor.temperature_bedroom ‚Äî –ñ–∞—Ä–∫–æ –≤ —Å–ø–∞–ª—å–Ω–µ: 29 ¬∞C  
- ‚úÖ –í –Ω–æ—Ä–º–µ: sensor.temperature_bedroom  
- ‚è±Ô∏è –û—Ç—á—ë—Ç:
  ```
  ‚Ä¢ –°–≤–µ—Ç –≤ –∫–æ—Ä–∏–¥–æ—Ä–µ (—Ä–∞–±–æ—Ç–∞–µ—Ç —É–∂–µ 1—á 5–º)
  ‚Ä¢ sensor.co2_office: ‚ö†Ô∏è CO‚ÇÇ –≤—ã—Å–æ–∫–∏–π: 1150 ppm
  ```

---

## üì¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ TTS
–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ø–Ω–¥–µ–∫—Å.–°—Ç–∞–Ω—Ü–∏–π —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –≥–æ–ª–æ—Å–æ–º –æ–∑–≤—É—á–∏–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è:
- ¬´–¢—Ä–µ–≤–æ–≥–∞: –¥–∞—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –≥–æ—Å—Ç–∏–Ω–æ–π¬ª
- ¬´–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤ —Å–ø–∞–ª—å–Ω–µ ‚Äî –∂–∞—Ä–∫–æ: 29 –≥—Ä–∞–¥—É—Å–æ–≤¬ª
- ¬´–í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ –Ω–æ—Ä–º–µ¬ª


## Screenshots

### Master setup
![Master](docs/screenshot1.png)

### Sensor thresholds example
![Thresholds](docs/screenshot2.png)

### Notifications
![Notifications](docs/screenshot3.png)

### Voice (TTS)
![TTS](docs/screenshot4.png)
